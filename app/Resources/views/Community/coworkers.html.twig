{% extends "Community/layout.html.twig" %}

{% block title %}
  Communauté - coworkers
{% endblock %}

{% block content %}
<h1>Les coworkers</h1>
Total : {{ listCoworkers.getTotalItemCount }} <br>

	<div class="row" id="filtersBar">

        <div id="filterCoworkers" class="dropdown">
			<button class="dropbtn" id="filterCityBtn">Choisir un réseau</button>
            <div class="dropdown-content">
            	{% for network in listCommunityNetwork %}
            		<a href="{{ path('becowo_core_community', { 'communityNetwork':network.name}) }}"><label> {{network.name|capitalize}}</label> </a>
            		<br>
              {% endfor %}
            </div>
    	</div>
        <span id="sort">
          Trier par : 
          {# {{ knp_pagination_sortable(listCoworkers, 'Titre', 'e.title') }} #}
        </span>
	</div>

	{% for member in listCoworkers %}
		{% if loop.index % 4 == 0 or loop.index == 1 %} <div class="row"> {% endif %}
			<div class="col-lg-4 col-md-4 col-xs-12">
				<div class="member">
					<a href="{{ path('becowo_member_public_profile', {'id' : member.id}) }}">
						{% if member.urlProfilePicture is defined %}
							{% if member.signedUpWith == null %}
							<div style="background-image:url('{{ asset('images/ProfilePictures/')}}{{member.urlProfilePicture}}'); 
							    width:200px; 
							    height:200px; 
							    background-position:center;
							    background-size: cover;">&nbsp;</div>
							{% else %}
							<div style="background-image:url('{{member.urlProfilePicture}}'); 
							    width:200px; 
							    height:200px; 
							    background-position:center;
							    background-size: cover;">&nbsp;</div>
							{% endif %}
						{% else %}
							<div style="background-image:url('{{ asset('images/ProfilePictures/avatar.png')}}'); 
							    width:200px; 
							    height:200px; 
							    background-position:center;
							    background-size: cover;">&nbsp;</div>
						{% endif %}
						<span class="label label-info hidden-xs">{{member.job}}</span>
						<div class="name hidden-xs">{{member.firstname}} {{member.name}}</div>
						<div class="name visible-xs">{{member.firstname}} {{member.name}} - {{member.job}}</div>
					</a>
				</div>
			</div>
		{% if loop.index % 3 == 0 or loop.last %} </div> {% endif %}
	{% endfor %}

	<div class="navigation text-center">
      {{ knp_pagination_render(listCoworkers) }}
  </div>
{% endblock content %}

